
## 内存及磁盘告警
　　当内存使用超过配置的阈值或磁盘剩余空间低于配置的阈值时，RabbitＭＱ 会暂时阻塞客户端的连接，并停止接收从客户端发来的消息，以免服务奔溃。注意，如果一个 Broker 节点的内存或磁盘受限，都会引起整个集群中所有 Connection 被阻塞。<br />

### 内存告警

- 默认情况下，RabbitMQ 的内存阈值为 0.4，即当 RabbitMQ 使用的内存超过 40% 时，会产生内存告警并阻塞所有生产者的连接。如果设置 为0，则禁止集群中所有消息发布；
- 默认情况下，在内存达到内存阈值的 50%（0.4 * 0.5 = 0.2） 时会进行换页到磁盘的操作，持久化和非持久化的的消息会被转存到磁盘中，其中持久化的消息本身在磁盘中有一份副本，会将内存中的持久化消息清除。设置为大于 1，则禁用换页动作。

### 磁盘告警
　　剩余磁盘空间低于阈值（默认 500M）时，RabbitMQ 会阻塞生产者，避免因非持久化的消息持续换页而耗尽磁盘空间导致服务器崩溃。正常情况下，每 10 秒检测一次磁盘空间，随着磁盘剩余空间域与磁盘阈值接近，检测频率会增加，从而可能增加系统的负载。
